(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-619d5e88"],{"1fea":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("c5f6"),a("55dd"),a("ac6a"),a("456d");function i(e){for(var t=[],a={},i=0;i<e.length;i++){var n=Object.keys(e[i]);n.sort((function(e,t){return Number(e)-Number(t)}));for(var r="",s=0;s<n.length;s++)r+=JSON.stringify(n[s]),r+=JSON.stringify(e[i][n[s]]);a.hasOwnProperty(r)||(t.push(e[i]),a[r]=!0)}return t=t,t}},2155:function(e,t,a){},"2e08":function(e,t,a){var i=a("9def"),n=a("9744"),r=a("be13");e.exports=function(e,t,a,s){var o=String(r(e)),c=o.length,l=void 0===a?" ":String(a),u=i(t);if(u<=c||""==l)return o;var f=u-c,d=n.call(l,Math.ceil(f/l.length));return d.length>f&&(d=d.slice(0,f)),s?d+o:o+d}},"2f21":function(e,t,a){"use strict";var i=a("79e5");e.exports=function(e,t){return!!e&&i((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"456d":function(e,t,a){var i=a("4bf8"),n=a("0d58");a("5eda")("keys",(function(){return function(e){return n(i(e))}}))},"55dd":function(e,t,a){"use strict";var i=a("5ca1"),n=a("d8e8"),r=a("4bf8"),s=a("79e5"),o=[].sort,c=[1,2,3];i(i.P+i.F*(s((function(){c.sort(void 0)}))||!s((function(){c.sort(null)}))||!a("2f21")(o)),"Array",{sort:function(e){return void 0===e?o.call(r(this)):o.call(r(this),n(e))}})},"5eda":function(e,t,a){var i=a("5ca1"),n=a("8378"),r=a("79e5");e.exports=function(e,t){var a=(n.Object||{})[e]||Object[e],s={};s[e]=t(a),i(i.S+i.F*r((function(){a(1)})),"Object",s)}},9744:function(e,t,a){"use strict";var i=a("4588"),n=a("be13");e.exports=function(e){var t=String(n(this)),a="",r=i(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(a+=t);return a}},aa77:function(e,t,a){var i=a("5ca1"),n=a("be13"),r=a("79e5"),s=a("fdef"),o="["+s+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),f=function(e,t,a){var n={},o=r((function(){return!!s[e]()||c[e]()!=c})),l=n[e]=o?t(d):s[e];a&&(n[a]=l),i(i.P+i.F*o,"String",n)},d=f.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=f},ac6a:function(e,t,a){for(var i=a("cadf"),n=a("0d58"),r=a("2aba"),s=a("7726"),o=a("32e9"),c=a("84f2"),l=a("2b4c"),u=l("iterator"),f=l("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(h),v=0;v<p.length;v++){var g,_=p[v],m=h[_],b=s[_],y=b&&b.prototype;if(y&&(y[u]||o(y,u,d),y[f]||o(y,f,_),c[_]=d,m))for(g in i)y[g]||r(y,g,i[g],!0)}},c5f6:function(e,t,a){"use strict";var i=a("7726"),n=a("69a8"),r=a("2d95"),s=a("5dbc"),o=a("6a99"),c=a("79e5"),l=a("9093").f,u=a("11e9").f,f=a("86cc").f,d=a("aa77").trim,h="Number",p=i[h],v=p,g=p.prototype,_=r(a("2aeb")(g))==h,m="trim"in String.prototype,b=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=m?t.trim():d(t,3);var a,i,n,r=t.charCodeAt(0);if(43===r||45===r){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+t}for(var s,c=t.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>n)return NaN;return parseInt(c,i)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof p&&(_?c((function(){g.valueOf.call(a)})):r(a)!=h)?s(new v(b(t)),a,p):b(t)};for(var y,k=a("9e1e")?l(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;k.length>S;S++)n(v,y=k[S])&&!n(p,y)&&f(p,y,u(v,y));p.prototype=g,g.constructor=p,a("2aba")(i,h,p)}},cfb9:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("van-nav-bar",{attrs:{title:"商户自检","left-arrow":"",fixed:""},on:{"click-left":function(t){return e.$router.push("/neiBuItemList")}}}),a("div",{staticClass:"con"},[a("div",{staticClass:"flex col"},[a("span",[e._v("起止时间：")]),a("span",[e._v(e._s(e.obj.start_time)+"~"+e._s(e.obj.end_time))])]),a("div",{staticClass:"title"},[e._v("商户自检信息")]),a("div",{staticClass:"flex col"},[a("span",[e._v("商户：")]),a("span",[e._v(e._s(e.obj.shop_name))])]),a("div",{staticClass:"flex col"},[a("span",[e._v("任务：")]),a("span",[e._v(e._s(e.obj.task_name))])]),a("div",{staticClass:"flex col"},[a("span",[e._v("自检时间：")]),a("span",[e._v(e._s(e.time))])]),a("div",{staticClass:"flex col"},[a("span",[e._v("自检人：")]),a("span",[e._v(e._s(e.obj.check_name))])]),a("div",{staticClass:"flex col"},[a("span",[e._v("自检状态：")]),0==e.obj.check_result||null==e.obj.check_result?a("span",[e._v("N/A")]):e._e(),1==e.obj.check_result?a("span",[e._v("合格")]):e._e(),2==e.obj.check_result?a("span",[e._v("不合格")]):e._e()]),a("div",{staticClass:"title"},[e._v("自检明细")]),e._l(e.obj.checkItemBeanList,(function(t,i){return a("div",{key:i,staticClass:"flex col"},[0!=t.check_type&&2!=t.check_type?a("span",[e._v(e._s(t.check_item_description)+"：")]):e._e(),a("span",[0!=t.check_type&&1!=t.check_type&&2!=t.check_type?a("van-radio-group",{attrs:{direction:"horizontal",disabled:0!=e.flag},on:{change:function(a){return e.danXuan(t.checkItemDetailBeanList,e.radio)}},model:{value:t.checkItemDetailBeanList[0].font_value,callback:function(a){e.$set(t.checkItemDetailBeanList[0],"font_value",a)},expression:"item.checkItemDetailBeanList[0].font_value"}},[a("van-radio",{attrs:{name:"1"}},[e._v("正常")]),a("van-radio",{attrs:{name:"2"}},[e._v("异常")])],1):e._e(),1==t.check_type?a("van-checkbox-group",{attrs:{direction:"horizontal"},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(t.checkItemDetailBeanList,(function(t,i){return a("van-checkbox",{key:i,attrs:{name:t.id+":"+t.detail_value+t.normal_item,disabled:0!=e.flag}},[e._v(e._s(t.detail_value))])})),1):e._e(),e._l(t.checkItemDetailBeanList,(function(i,n){return 0==t.check_type||2==t.check_type?a("van-field",{key:n,staticStyle:{"margin-left":"-16px",width:"400px"},attrs:{type:2==t.check_type?"":"number",label:t.check_item_description+"：",placeholder:"请输入：例如"+t.input_tip,readonly:!0},on:{blur:function(a){return e.verify(i.min_value,i.max_value,i.font_value,t.check_item_description,i.normal_item,i.id)}},model:{value:i.font_value,callback:function(t){e.$set(i,"font_value",t)},expression:"item1.font_value"}}):e._e()}))],2)])})),e.flag?a("div",{staticClass:"title"},[e._v("其他描述")]):e._e(),a("van-field",{attrs:{rows:"2",autosize:"",label:"描述：",type:"textarea",maxlength:"50",placeholder:"请输入留言","show-word-limit":"",readonly:!0},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),0==e.flag||2==e.flag?a("div",{staticClass:"title"},[e._v("上传图片")]):e._e(),0==e.flag||2==e.flag?a("div",{staticClass:"col"},[a("van-uploader",{attrs:{"max-count":3,"after-read":e.updateImg,disabled:1==e.flag||2==e.flag},on:{delete:e.remove},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})],1):e._e(),a("div",{staticClass:"btn flex"},[a("van-button",{staticStyle:{padding:"0 35px"},attrs:{type:"primary",color:"#A68E44"},on:{click:e.up}},[e._v("正常")]),a("van-button",{staticStyle:{padding:"0 35px"},attrs:{type:"primary",color:"#A68E44"},on:{click:e.yiChang}},[e._v("异常上报")]),a("van-dialog",{attrs:{title:"确认提交检查结果吗？","show-cancel-button":"","confirm-button-color":"#A68E44"},on:{confirm:e.endAdd},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})],1)],2)],1)},n=[],r=(a("7f7f"),a("34ef"),a("4917"),a("28a5"),a("ac6a"),a("f576"),a("1fea"),{data:function(){return{flag:this.$route.query.flag,flag1:this.$route.query.flag1,radio:"",radio1:"",message:"",message1:"",fileList:[],base64:"",base64Arr:[],tuName:"",tuNameArr:[],show:!1,time:"",obj:{},ziJianRen:localStorage.getItem("userName"),value:"",yiChangTitle:[],result:[],isArr:[],isArr1:[],isArr2:[],wenBen:"",checkQuery:{uid:localStorage.getItem("uid"),detail_id:this.$route.query.detail_id,id:this.$route.query.detail_id}}},mounted:function(){var e=this,t=new Date;this.time=t.getFullYear()+"-"+JSON.stringify(t.getMonth()+1).padStart(2,"0")+"-"+JSON.stringify(t.getDate()).padStart(2,"0")+" "+JSON.stringify(t.getHours()).padStart(2,"0")+":"+JSON.stringify(t.getMinutes()).padStart(2,"0")+":"+JSON.stringify(t.getSeconds()).padStart(2,"0"),this.keepAxios.get(this.baseUrl.lockage+"/rest/checkTask/getDetailsByParamById",{params:{detail_id:this.$route.query.detail_id}}).then((function(t){console.log(t),e.obj=t.data.data,e.message=e.obj.description,e.obj.checkItemBeanList.forEach((function(t){t.checkItemDetailBeanList.forEach((function(t){console.log(t.detail_value=="红0".slice(0,1)),null!=t.font_value&&t.detail_value==t.font_value.slice(0,1)&&e.result.push(t.id+":"+t.font_value)}))}))}))},methods:{verify:function(e,t,a,i,n,r){if(null!=n){var s,o=[];o.push(r+":"+a),(s=this.isArr2).push.apply(s,o);var c=[];""!=e?a<e&&(console.log("我试试1"),c.push({title:i+"异常"})):""!=t?a>t&&(console.log("我试试2"),c.push({title:i+"异常"})):""!=t&&""!=e&&(a<t||a>e)&&(console.log("我试试3"),c.push({title:i+"异常"}))}else{var l;console.log("我是文本类");var u=[];u.push(r+":"+a),this.wenBen=a,(l=this.isArr2).push.apply(l,u)}console.log(this.isArr2)},danXuan:function(e,t){console.log(e),console.log(t),1==t?this.isArr.push(e[0].id+":正常"):this.isArr.push(e[0].id+":异常")},danXuan1:function(e){this.checkQuery.repeat_result=1==e?"0":"1"},dataURLtoFile:function(e,t){var a=e.split(","),i=a[0].match(/:(.*?);/)[1],n=atob(a[1]),r=n.length,s=new Uint8Array(r);while(r--)s[r]=n.charCodeAt(r);return new File([s],t,{type:i})},updateImg:function(e){var t=this,a=document.createElement("canvas"),i=a.getContext("2d"),n=new Image;n.src=e.content,n.onload=function(){a.width=400,a.height=300,i.drawImage(n,0,0,400,300),e.content=a.toDataURL(e.file.type,.92);var r=t.dataURLtoFile(e.content,e.file.name),s=new FormData;s.append("file",r),s.append("code",t.applyNo),s.append("type","chat"),t.base64Arr.push(e.content),t.tuNameArr.push(e.file.name),t.base64=t.base64Arr.join("#"),t.tuName=t.tuNameArr.join(",")},console.log(this.base64),console.log(this.tuName)},remove:function(e,t){var a=this;console.log(e),console.log(t),this.base64Arr.forEach((function(i){if(i==e.content)return a.base64Arr.splice(t.index,1)})),this.tuNameArr.forEach((function(i){if(i==e.file.name)return a.tuNameArr.splice(t.index,1)})),this.base64=this.base64Arr.join("#"),this.tuName=this.tuNameArr.join(","),console.log(this.base64Arr),console.log(this.tuNameArr)},up:function(){this.show=!0},yiChang:function(){this.$router.push({path:"/neiBuDetails1",query:{flag1:"1",detail_id:this.$route.query.detail_id}})},endAdd:function(){console.log("我是确定"),this.checkQuery.description=this.message1,this.checkQuery.check_type="1",this.checkQuery.repeat_result="0",console.log(this.checkQuery),this.addDetails(this.checkQuery)},addDetails:function(e){var t=this;this.keepAxios.post(this.baseUrl.lockage+"/rest/checkTask/addDetails",e).then((function(e){console.log(e),e.data.code,t.$toast(e.data.msg)}))}}}),s=r,o=(a("ffc6"),a("2877")),c=Object(o["a"])(s,i,n,!1,null,"86454b56",null);t["default"]=c.exports},f576:function(e,t,a){"use strict";var i=a("5ca1"),n=a("2e08"),r=a("a25f"),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);i(i.P+i.F*s,"String",{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},ffc6:function(e,t,a){"use strict";var i=a("2155"),n=a.n(i);n.a}}]);